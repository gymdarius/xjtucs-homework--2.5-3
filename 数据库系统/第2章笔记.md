## 基本概念

### 关系的定义

域、域的基数

域上的笛卡尔积（具有交换律和结合律）

关系，n元关系

属性

超键(SK)、候选键(CK)、主键(PK)。	属性(集) 	【一个关系中的数据不全是不能判断键的属性的】

外键(FK) 【R1的某个属性集是R2的候选键】

关系模式 R(A1,A2,....,An)

关系模式是静态的，关系是动态的

关系的特征：元组不重复、属性不重复、元组间无序、属性间无序，同一属性名下的属性值来自于同一域、所有属性值都是原子的，不可再分，属性值可以为空。

关系的类型：基本表、查询表、视图

关系的完整性约束：为了保证数据的正确性和相容性而在关系上施加的约束条件。分类：域完整性约束、实体完整性约束、参照完整性约束、用户定义的完整性约束

## 关系代数

**用对关系的运算来表示查询**

运算对象和运算结果都是关系

传统的集合运算：并、差、交、笛卡尔积(m×n-》(m+n))

专门的关系运算：选择、投影、连接(`=`时为等值连接、消除了重复属性的等值连接为自然连接，自然连接在没有公共属性时会退化为笛卡尔积)。外连接(左外、右外、全外)、半连接(R和S的半连接是将其自然连接的结果在R的属性集上投影，不具有交换率)、除

除：R: [X,Y] /S: [Y]  结果是X中，与Y中每一行都有连接后的值存在于[X,Y]中

X：结果属性，Y：象集属性。

结果集合是R中那些象集包含了S在象集中的投影的集合

![image-20240617143320417](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20240617143320417.png)

关系代数查询

## 关系演算

**用谓词表达查询**

元组关系、域关系

![image-20240617144718397](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20240617144718397.png)

**基本关系代数运算** 和 **元组关系演算** 可等价表示

安全表达式：不产生 **无限关系** 和 **无穷验证**的 表达式(PPT 72 页)

无限验证：否定存在量词、肯定全称量词。

无限关系：一个关系中有无数个元组(例子：所有不在关系R中的元组的集合)

![image-20240617145813824](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20240617145813824.png)

### 注意

条件连接：不消除重复属性![image-20240618212440926](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20240618212440926.png)

自然连接：消除重复属性

![image-20240618212458087](https://gitee.com/du-jianyu1012/img/raw/master/picture/image-20240618212458087.png)

![image-20240620101537686](C:/Users/lenovo/AppData/Roaming/Typora/typora-user-images/image-20240620101537686.png)